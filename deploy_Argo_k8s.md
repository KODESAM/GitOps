
####  Deploy Argo CD to Kubernetes

deploy Argo CD:
```
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/codefresh-contrib/gitops-certification-examples/main/argocd-noauth/install.yaml
```

To view the deployment enter

```
kubectl get pods -n argocd

```
```
NAME                                 READY   STATUS    RESTARTS   AGE
argocd-server-5b4b7b868b-sffmt       1/1     Running   0          26s
argocd-redis-5b6967fdfc-dpsql        1/1     Running   0          26s
argocd-dex-server-5fc596bcdd-dgmf6   1/1     Running   0          26s
argocd-repo-server-98598b6c7-fcxjc   1/1     Running   0          26s
argocd-application-controller-0      1/1     Running   0          25s

```

### Expose the Argo CD UI
```
kubectl apply -f service.yml
```
```
apiVersion: v1
kind: Service
metadata:
  labels:
    app: argocd-server
  managedFields:
  name: argocd-server-nodeport
  namespace: argocd
spec:
  ports:
  - nodePort: 30443
    port: 8080
    protocol: TCP
  selector:
    app.kubernetes.io/name: argocd-server
  type: NodePort
  
  ```
  
  ### Log in the Argo CD UI
  
  Argo CD initially has an admin user with an autogenerated password. You can get the admin password from the default Configmap
  
  ```
  kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d > admin-pass.txt
  ```
  
  ### Argo CD CLI
  
To install the CLI

```  
curl -sSL -o /usr/local/bin/argocd https://github.com/argoproj/argo-cd/releases/download/v2.1.5/argocd-linux-amd64
chmod +x /usr/local/bin/argocd
```

Test that the CLI works by typing

```
argocd help
```

To authenticate CLI

```
argocd login localhost:30443 --insecure
```
Log in as admin and use the password stored in admin-pass.txt

###Â Run some example commands

```
argocd version
argocd app list
```
